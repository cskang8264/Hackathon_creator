{% extends 'index.html' %}
{% load staticfiles %}

{% block header %}
    <h2>소품대여 디테일</h2>
{% endblock %}

    <!-- Hero Section End -->
    <br><br>
    {% if prop.image %}
        <img src="{{ prop.image.url }}" class="card-img-top" alt="prop_image" style="magin: 3rem; width: 18rem;">
    {% endif %}
    <h1>{{ prop.title }}</h1>
    <p>{{ prop.body }}</p>
    <p>{{ prop.pub_date }}</p>

    {% for comment in prop.comments.all %}
        <div class="jumbotron jumbotron-fluid">
            <div class="container">
                <h3>{{ comment.comment_text }}</h3>
            </div>
        </div>
    {% endfor %}

    <a href="{% url 'prop' %}">돌아가기잇</a>
    <a href="{% url 'prop_edit' pk=prop.pk %}" class="btn btn-primary">수정</a>
    <a href="{% url 'prop_delete' pk=prop.pk %}" class="btn btn-primary">삭제</a>

    <form method="POST">
        {% csrf_token %}
        {{ form }}
        <input class="btn btn-primary" type="submit" value="Submit">
    </form>




{% block content %}
    <!-- Single Property Section Begin -->
    <div class="single-property">
        <div class="container">
            <!-- title -->
            <div class="row spad-p">
                <div class="col-lg-12">
                    <div class="property-title">
                        <h2>제목 : {{ prop.title }}</h2>
                        <p>create_at = {{ prop.pub_date }}</p>
                    </div>
                    <div class="property-price">
                        <a class="btn btn-outline-danger" href="{% url 'prop_delete' pk=prop.pk %}" role="button">
                            &nbsp; Del &nbsp;
                        </a>
                    </div>
                    <div class="property-price">
                    <span>
                        &nbsp;&nbsp;
                    </span>
                    </div>
                    <div class="property-price">
                        <a href="{% url 'prop_edit' pk=prop.pk %}" role="button" class="btn btn-outline-primary">
                            &nbsp; Edit &nbsp;
                        </a>
                    </div>
                </div>
            </div>
            <!--profile-->
            <div class="col-lg-3" style="float: left;">
                <div class="row pb-30">
                    <div class="col-lg-12">
                        <div class="contact-service">
                            <img src="{% static 'img/single-property/small.png' %}" alt="">
                            <p>Listed by</p>
                            <h5>Oliver G Harris</h5>
                            <table>
                                <tr>
                                    <td>Office : <span>1-139-954-3228</span></td>
                                </tr>
                                <tr>
                                    <td>Mobile : <span>1-517-328-7751</span></td>
                                </tr>
                                <tr>
                                    <td>Fax : <span>1-458-284-9871</span></td>
                                </tr>
                                <tr>
                                    <td>WhatsApp : <span>1-812-117-2663</span></td>
                                </tr>
                                <tr>
                                    <td>Email : <span>oliver@homes.com</span></td>
                                </tr>
                            </table>
                            <a href="#" class="site-btn list-btn">View More Listings</a>
                        </div>
                    </div>
                </div>
            </div>
            <!--image-->
            <div class="row">
                <div class="col-lg-12">
                    <div class="fotorama" data-fit="scaledown">
                        <a href="{% static 'img/SampleVideo.png' %}"></a>
                        {% if prop.image %}
                            <img src="{{ prop.image.url }}" class="card-img-top" alt="prop_image" style="magin: 3rem; width: 18rem;">
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Single Property End -->

    <!-- 내용, 댓글 -->
    <section class="property-details">
        <div class="container">
            <div class="row sp-40 spt-40">
                <!-- content + portpo-->
                <div class="col-lg-12">
                    <div class="p-ins">
                        <div class="row details-top">
                            <div class="col-lg-12">
                                <div class="t-details">
                                    <div class="register-id">
                                        <p>Registered ID: <span>1</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="property-description">
                                    <h3>Content</h3>
                                    <p>
                                        {{ prop.body }}
                                    </p>
                                    <hr>
                                </div>
                            </div>
                        </div>

                        <!-- Comment Form -->
                        <div class="row">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="t-details">
                                        <div class="register-id">
                                            <p style="display: inline;">Leave Comment</p>
                                            <form method="POST" style="display: inline;">
                                                {% csrf_token %}
                                                {{ form }}
                                                <input type="submit" , value="submit">
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <!-- Comment list -->
                        {% for comment in prop.comments.all %}
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="t-details">
                                        <div class="register-id">
                                            <p>User ID: <span>{{ comment.comment_text }}</span>
                                                <a href="{% url 'pr_comment_edit' comment.id %}" role="button"
                                                   class="btn-outline-primary">Edit</a>
                                                |
                                                <a href="{% url 'pr_comment_del' comment.id %}" role="button"
                                                   class="btn-outline-danger">Del</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Single Property Deatails Section End -->
{% endblock %}